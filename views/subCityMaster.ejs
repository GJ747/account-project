<%- include("./header.ejs") %> 
<body>
<%- include("./sidebar.ejs") %> 

<% for(let y=0;y<data.length; y++){%> 
    <input type="hidden" id="<%=data[y].stateName%>" value="<%=data[y].stateCode%>">
<% } %> 

<div class="p-2 flex-grow-1 bd-highlight" >
<div class="container mt-3" >
    <% console.log("from page",data) %> 
<form action="/createCity/create1" method="post">
    <input type="hidden" name="name" value="<%=name%>">
    <h5 style="color: white;background-color:#613d94;padding: 5px;margin: 0px;" >Create City Information</h5>
    <div class='row' style="margin: 0px;background-color: white;padding: 5px;height: 200px;">
          <div class='col-sm'>
          <label>State Name</label> 
          <select id="stateName" class="form-select" onchange="stateN()" aria-label="Default select example"  name='stateName'>
            <% for(let x=0 ; x<data.length; x++){ %> 
            <option value="<%=data[x].stateName%>"><%=data[x].stateName%></option>
            <% } %> 
        </select>
          <label>State Code</label>
          <input id="stateCode"  class="form-control" type="text" name='stateCode' value=""/> 
      </div>
      <div class='col-sm'>
          <label>Country</label>
          <select class="form-select" aria-label="Default select example"  name='country'>
              <option value="1">India</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
          </select>
          <label>City Name</label>
          <input  class="form-control" type="text" name='cityName' /> 
      </div>
      <div class='col-sm'>
          <label>State</label>
          <select class="form-select" aria-label="Default select example" name='state'>
              <option value="1">Raj</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
          </select>
          <label>Pin Code</label>
          <input  class="form-control" type="text" name='pinCode' /> 
           <button class='btn btn-primary' style="float:right;margin-top:3%">Create City</button>
      </div>
    </div>
</form>


    <div style="background-color: white;padding: 8px;">
        <%if(popup) { %> 
            <div id="popup">
                <p style="text-align: center;margin-top: 10%;">Information Saved Successfully</p>
                <button id="btn" class="btn btn-primary" onclick="popupHide()" style="position: relative;left: 40%;margin-top: 8%;">Close</button>
            </div>
            <% } %> 
        <form action="/createCity" method="post">
            <input type="hidden" name="name" value="<%=name%>">
            <button type="submit" style="float: right;" class="btn btn-primary mt-2"><i class="bi bi-arrow-left"></i> City Information</button>
            <div style="clear:both"></div>
        </form>
    </div>
  </div>
</div>
</body>
<script>
    const stateN = () =>{
        const name = document.getElementById("stateName").value;
        const code = document.getElementById(`${name}`).value
        document.getElementById("stateCode").value = code
    }
</script>
<%- include("./footer.ejs") %> 